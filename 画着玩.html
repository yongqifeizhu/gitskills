<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			#xxx{display: none;}
		</style>
	</head>
	<body>
		<canvas id="myCanvas" width="500" height="500"></canvas>
		<img id="xxx" src="xxx.png">
	</body>
	<script type="text/javascript">
		let c = document.getElementById("myCanvas");
		let pic = document.getElementById('xxx'); //获取描边图片
		let content = c.getContext("2d");
		content.translate(250,250);//设置绘图原点
		
		// let b = 5
		// function bbb(b){
		// 	let m = 0;
		// 	let intervalId = setInterval(() => {
		// 		m+=0.1
		// 		//content.clearRect(-250,-250,500,500);
		// 		let radian = 0; //设置初始弧度
		// 		let radian_add = Math.PI / 90; //设置弧度增量
		// 		
		// 		while(radian <= (Math.PI*2)){  //每增加一次弧度，绘制一条线
		// 		    radian += radian_add;
		// 		    X = getX(radian,m);
		// 		    Y = getY(radian,m);
		// 		    content.drawImage(pic, X, Y, 5, 5); //在给定坐标绘制给定大小的图片
		// 		}
		// 		if(m>=b){
		// 			clearInterval(intervalId);
		// 			content.clearRect(-250,-250,500,500);
		// 			bbb(b)
		// 		}
		// 	}, 1000/60)
		// }
		// bbb(b)
		
		//let m = 1
		// function aa(m){
		// 	let radian = 0; //设置初始弧度
		// 	let radian_add = Math.PI / 36; //设置弧度增量
		// 	let intervalId = setInterval(() => {
		// 		X = getX(radian,m);
		// 		Y = getY(radian,m);
		// 		content.drawImage(pic, X, Y, 10, 10); //在给定坐标绘制给定大小的图片
		// 		radian += radian_add;
		// 		if (radian > (2 * Math.PI)) { //绘制完整的心型线后取消间歇调用 
		// 			clearInterval(intervalId);
		// 			//content.clearRect(-250,-250,500,500);
		// 			aa(m+1)
		// 		}
		// 	}, 100/6)
		// }
		//aa(m)
		function aaaaa(m){
			let radian = 0; //设置初始弧度
			let radian_add = Math.PI / 90; //设置弧度增量
			content.beginPath(); //开始绘图
			content.strokeStyle = "red"; //设置描边样式
			content.moveTo(getX(radian,m), getY(radian,m)); //移动绘图游标至原点
			// let intervalId = setInterval(() => {
			// 	radian += radian_add;
			// 	X = getX(radian,14);
			// 	Y = getY(radian,14);
			// 	content.lineTo(X, Y);
			// 	content.stroke(); //对路径描边
			// 	if (radian > (2 * Math.PI)) {
			// 		clearInterval(intervalId);
			// 	}
			// }, 1000 / 60); //设置间歇调用，间隔为100ms
			while(radian <= (Math.PI*2)){  //每增加一次弧度，绘制一条线
			    radian += radian_add;
			    X = getX(radian,m);
			    Y = getY(radian,m);
			    content.lineTo(X,Y);
				content.closePath();
			}
			content.stroke(); //对路径描边
		}
		aaaaa(14)
		// let s = 14;
		// setInterval(()=>{
		// 	content.clearRect(-250,-250,500,500);
		// 	if(s===14){
		// 		aaaaa(12)
		// 		s = 12;
		// 	}else{
		// 		aaaaa(14)
		// 		s = 14;
		// 	}
		// },500)
		function getX(t,m){   //获取玫瑰线的X坐标
			// return m * Math.sin(4*t)*Math.cos(t);
			return m * (16 * Math.pow(Math.sin(t), 3))
		    // return m * Math.pow(Math.cos(t), 3)
		}
		
		function getY(t,m){  //获取玫瑰线的Y坐标
			// return m * Math.sin(4*t)*Math.sin(t);
			return -m * (13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t))
			// return -m * Math.pow(Math.sin(t), 3)
		}
	</script>
</html>
