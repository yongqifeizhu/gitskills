<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<style type="text/css">
		#father {
			height: 5px;
			width: 500px;
			background-color: #CCCCCC;
			position: relative;
			border-radius: 5px;
		}
		
		#son {
			height: 5px;
			width: 0px;
			background-color: blue;
			border-radius: 5px;
		}
	</style>

	<body>
		<div id="father">
			<div id="son"></div>
			<div id="dian"></div>
		</div>
		<div>剩余时间<span id="time">4:25</span></div>
	</body>
	<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
	<script type="text/javascript">
		function timer(t,callback) {
			var tm = t;
			$('#time').html(tm)
			var wid = parseInt($('#father').css('width'));
			var bl;
			var times = setInterval(function(){
				tm = tm - 1;
				bl = parseInt(wid*(t-tm)/t)
				$('#son').css('width',bl+'px')
				$('#time').html(tm)
				if(tm==0){
					clearInterval(times)
					var timen = setTimeout(function(){
						callback()
						clearTimeout(timen)
					},0)
				}
			},1000)
		}
		timer(1000,hehe)
		function hehe(){
			alert(1)
		}
	</script>

</html>