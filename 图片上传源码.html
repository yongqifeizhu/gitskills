<!doctype html>
<html>
<head>
　　<title>文件上传</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,minimum-scale=1.0, maximum-scale=1.0,user-scalable=no">
</head>
<body>
 
 <script>
   function readLocalFile () {
        var localFile = document.getElementById("uploadFile").files[0];
        var reader = new FileReader();
        var content;
        reader.onload = function(event) {
        	console.log(event.target)
            content = event.target.result;
            //alert(content);
             
            document.getElementById("img").src = content;
            document.getElementById("fileContent").value = content;
        }
        reader.onerror = function(event) {
        	alert('error')
        }
        content = reader.readAsDataURL(localFile,"UTF-8");
    }
 </script>
    <section>
        <input type="file" id="uploadFile" onchange="readLocalFile()";/>
        <div><img src="" id="img"/></div>
        <div><textarea id="fileContent" rows="30" cols="60"></textarea></div>
    </section>
</body>
</html>